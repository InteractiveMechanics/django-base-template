{% extends '_layouts/base.html' %}
{% load base_tags %}

<!-- Metadata -->
{% block page_title %}Search{% endblock %}
<!-- End Metadata -->

{% block content %}
  <div class="container">
    <div class="basic-page-content">
      <form method="get" action=".">
        <div class="well">
          <h2>Advanced Search</h2>
            <ul>
              {{ form.as_ul }}
              <li>
                <input type="submit" value="Search">
              </li>
            </ul>
        </div>
      
        {% if query or page.object_list %}
        <h2 style="text-align:center">Results</h2>
        
          {% for result in page.object_list %}
            {% include 'search/_result_object.html' %}
          {% empty %}
            <p>No results found.</p>
          {% endfor %}

          {% if page.has_previous or page.has_next %}
            <div>
              {% if page.has_previous %}<a href="?{% get_query_params request.GET %}&amp;page={{ page.previous_page_number }}">{% endif %}&laquo; Previous{% if page.has_previous %}</a>{% endif %}
              |
              {% if page.has_next %}<a href="?{% get_query_params request.GET %}&amp;page={{ page.next_page_number }}">{% endif %}Next &raquo;{% if page.has_next %}</a>{% endif %}
            </div>
          {% endif %}
        
        {% else %}
          {# Show some example queries to run, maybe query syntax, something else? #}
        {% endif %}
      </form>
    </div>
  </div>
{% endblock %}

<!-- Search Unique JS -->
{% block js %}

  <script>
    $(document).ready(function() {
      $('#accordion').collapse();
    });
  </script>

{% endblock %}
<!-- End Search Unique JS -->